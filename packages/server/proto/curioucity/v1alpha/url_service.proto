syntax = "proto3";
package curioucity.v1alpha;

import "curioucity/v1alpha/url.proto";
import "curioucity/v1alpha/general.proto";
import "curioucity/v1alpha/union.proto";

service UrlService {
  rpc CreateUrl(curioucity.v1alpha.CreateUrlRequest) returns (curioucity.v1alpha.CreateUrlResponse);
  rpc DeleteUrl(curioucity.v1alpha.DeleteUrlRequest) returns (curioucity.v1alpha.DeleteUrlResponse);
  rpc GetUrl(curioucity.v1alpha.GetUrlRequest) returns (curioucity.v1alpha.GetUrlResponse);
}

message CreateUrlRequest {
  string url = 1;
  curioucity.v1alpha.ResourceType resource_type = 2;
}

message CreateUrlResponse {
  curioucity.v1alpha.FullUrl url = 1;
}

message DeleteUrlRequest {
  string url = 1;
}

message DeleteUrlResponse {}

message GetUrlRequest {
  string url = 1;
}

message GetUrlResponse {
  curioucity.v1alpha.FullUrl url = 1;
}

message ListUrlRequest {
  optional int64 page_size = 1;
}

message ListUrlResponse {
  repeated curioucity.v1alpha.FullUrl tags = 1;
  int64 size = 2;
}